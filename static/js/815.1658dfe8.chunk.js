"use strict";(self.webpackChunkreact_simple_1=self.webpackChunkreact_simple_1||[]).push([[815],{5815:function(s,t,e){e.r(t),e.d(t,{default:function(){return B}});var n=e(1413),o=e(5671),i=e(3144),r=e(136),a=e(7277),u=e(2791),l=e(6434),c=e(6070),d="Post_item__Kd9j9",p=e(184),f=function(s){return(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/194/194938.png"}),s.message,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:[s.likesCount," like"]})})]})},h=e(5705),x=e(132),j="MyPosts_posts__j9Z2G",m="MyPosts_postsBlock__m7w+C",_="MyPosts_postsBlockContent__i2Zu5",P="MyPosts_userPhoto__PVdxq",v=function(s){var t=(0,h.TA)({initialValues:{newPostText:""},validationSchema:x.Ry({newPostText:x.Z_().required("Required")}),onSubmit:function(s,t){var n=t.resetForm;e(s),console.log(s),n(s.newPostText="")}}),e=function(t){s.addPost(t.newPostText)};return(0,p.jsx)(h.J9,{children:(0,p.jsxs)(h.l0,{onSubmit:t.handleSubmit,children:[(0,p.jsx)("div",{children:(0,p.jsx)(h.gN,{name:"newPostText",type:"textarea",placeholder:"Enter text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.newPostText})}),t.touched.newPostText&&t.errors.newPostText?(0,p.jsx)("button",{type:"submit",disabled:!0,children:"Send"}):(0,p.jsx)("button",{type:"submit",disabled:!1,children:"Send"})]})})},g=function(s){var t=s.posts.map((function(s){return(0,p.jsx)(f,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsxs)("div",{className:_,children:[(0,p.jsx)("div",{className:P,children:s.isAuth?(0,p.jsx)("img",{src:s.userPhoto}):""}),(0,p.jsx)(v,{addPost:s.addPost})]}),(0,p.jsx)("div",{className:j,children:t})]})},b=(0,l.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText,isAuth:s.auth.isAuth,userPhoto:s.auth.userPhoto}}),(function(s){return{addPost:function(t){s((0,c.WA)(t))}}}))(g),k=e(5739),N={content__img:"ProfileInfo_content__img__3W7qZ",descriptionBlock:"ProfileInfo_descriptionBlock__vbq9m",descriptionInfo:"ProfileInfo_descriptionInfo__CPVVY",fullName:"ProfileInfo_fullName__ZO5ts",aboutInfo:"ProfileInfo_aboutInfo__+YSZ2",lookingJobDescr:"ProfileInfo_lookingJobDescr__4AS8s",descriptionContainer:"ProfileInfo_descriptionContainer__Q8axE"},S=e(885),Z=function(s){var t=(0,u.useState)(!1),e=(0,S.Z)(t,2),n=e[0],o=e[1],i=(0,u.useState)(s.state),r=(0,S.Z)(i,2),a=r[0],l=r[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,p.jsxs)("div",{children:[!n&&(0,p.jsx)("div",{className:N.statusSpan,children:(0,p.jsx)("span",{onClick:function(){o(!0)},children:s.status||"------"})}),n&&(0,p.jsx)("div",{className:N.statusInput,children:(0,p.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,value:a,onBlur:function(){o(!1),s.updateStatus(a)}})})]})},C=function(s){return s.profile?(0,p.jsxs)("div",{className:N.descriptionContainer,children:[(0,p.jsxs)("div",{className:N.descriptionBlock,children:[(0,p.jsx)("div",{className:N.descriptionPhoto,children:(0,p.jsx)("img",{src:s.profile.photos.large,alt:""})}),(0,p.jsxs)("div",{className:N.descriptionInfo,children:[(0,p.jsxs)("div",{className:N.fullName,children:["Name:",(0,p.jsx)("span",{children:s.profile.fullName})]}),(0,p.jsxs)("div",{className:N.aboutInfo,children:["About me:",(0,p.jsx)("span",{children:s.profile.aboutMe})]}),(0,p.jsxs)("div",{className:N.lookingJobDescr,children:["Looking  for a job:",(0,p.jsx)("span",{children:s.profile.lookingForAJobDescription})]})]})]}),(0,p.jsx)(Z,{status:s.status,updateStatus:s.updateStatus})]}):(0,p.jsx)(k.Z,{})},I=function(s){return(0,p.jsxs)("div",{children:[(0,p.jsx)(C,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,p.jsx)(b,{})]})},y=e(7781),w=e(2537),A=e(5927),T=function(s){(0,r.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,o.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorisedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(I,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(u.Component),B=(0,y.qC)((0,l.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf}),w.E,A.D)(T)},5927:function(s,t,e){e.d(t,{D:function(){return f}});var n=e(1413),o=e(5671),i=e(3144),r=e(136),a=e(7277),u=e(2791),l=e(6434),c=e(6871),d=e(184),p=function(s){return{isAuth:s.auth.isAuth}},f=function(s){var t=function(t){(0,r.Z)(u,t);var e=(0,a.Z)(u);function u(){return(0,o.Z)(this,u),e.apply(this,arguments)}return(0,i.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(s,(0,n.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),u}(u.Component);return(0,l.$j)(p)(t)}}}]);
//# sourceMappingURL=815.1658dfe8.chunk.js.map